# Generate JSON Web Key Sets (JWKS)

## Overview

In order to cryptographically sign the JSON Web Tokens (JWTs) generated by the authorization server, we must generate a public/private key pair.

**NOTE**: The JWKS is also used by the MCP server to verify access tokens it receives in requests from ChatGPT.

## How it works

A JWKS is a set of cryptographic public keys represented in JSON format. It's used to verify the signatures of JWTs (JSON Web Tokens). When the MCP server receives a JWT, it uses one of the public keys found in the published JWKS to verify its signature.

**Example**

```json
{
  "keys": [
    {
      "kty": "RSA",
      "use": "sig",
      "kid": "abc123",
      "n": "0vx7agoebGcQSuuPiLJXZptN9nndrQmbXEps2aiAFbWhM78LhWx...",
      "e": "AQAB"
    }
  ]
}
```

**NOTE**: The `kid` (key ID) is provided in the header of the JWT. Both the generation and verification of the JWT signature must use the corresponding key pair identified by `kid`.

1. The authorization server signs JWTs with its private key.
2. The authorization server publishes its public keys as a JWKS at a well-known URL (e.g., `/.well-known/jwks.json`).
3. The MCP server fetches the JWKS and uses the matching public key (identified by the `kid` field) to verify the JWT's signature.

**NOTE**: The URL for the JWKS must be added to the Authorization Server Metadata (`jwks_uri`).

## Acceptance Criteria

* A JWKS exists for the authorization server.
* The JWKS is advertised at `/.well-known/jwks.json`.
